# 前端异常

## 一、前端异常

前端异常是指在用户使用 Web 应用时无法快速得到符合预期结果的情况，不同的异常带来的后果程度不同，轻则引起用户使用不悦，重则导致产品无法使用，使用户丧失对产品的认可。

### 1.1 前端异常分类

根据异常代码的后果的程度，对前端异常的表现分为如下几类

![image](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/4jKqm0b8N3Q3Bnw1/img/ea120617-19e2-456e-a92f-1bb8e4e07cb8.png)

| **异常分类** | **描述** | **后果** |
| --- | --- | --- |
| 出错 | 页面展示内容与用户预期不符，如跳转错误、数据不准确、提示不清晰、界面错位等。 | 功能可用但用户难以完成任务 |
| 呆滞 | 操作后无响应，如点击无效、无法提交、操作完成后界面无变化。 | 界面局部不可用，用户操作受阻。 |
| 损坏 | 页面部分功能失效，如无法查看详情、按钮无反应、跳转失败等。 | 核心功能受限，用户任务受阻。 |
| 假死 | 页面完全卡住，如登录卡顿、遮罩层无法关闭等。 | 无法交互，用户被迫关闭应用。 |
| 崩溃 | 页面或应用直接崩溃，如闪退、白屏、长时间无响应等，例如间歇性 crash | 严重影响用户使用，易造成用户流失。 |

### 1.2 异常错误原因分类

| **错误类型** | **常见原因** | **示例** | **频率** |
| --- | --- | --- | --- |
| 逻辑错误 | *   业务判断失误<br>    <br>*   事件绑定顺序错误<br>    <br>*   异步调用顺序错误<br>    <br>*   JS 对象误操作 | *   错误地在未登录状态下跳转支付<br>    <br>*   调用未绑定事件的函数 | 经常 |
| 数据类型错误 | *   null/undefined 操作<br>    <br>*   数据未校验<br>    <br>*   类型强转错误<br>    <br>*   参数缺失 | *   undefined.map()<br>    <br>*   null.toString()<br>    <br>*   "123" + 1 得到 "1231" 而非 124 | 经常 |
| 语法/句法错误 | *   拼写错误<br>    <br>*   语法不规范 | *   if (a > 5 {} 括号不闭合 | 较少 |
| 网络请求错误 | *   请求超时或断网<br>    <br>*   接口返回异常数据<br>    <br>*   无错误处理逻辑<br>    <br>*   跨域问题 | *   接口返回 200 但无数据<br>    <br>*   上传中断导致提交失败 | 较少 |
| 资源加载错误 | *   图片/JS/CSS 加载失败<br>    <br>*   CDN 崩溃或路径错误 | *   图片 404，组件显示异常 | 极少 |
| 系统环境错误 | *   浏览器不兼容<br>    <br>*   设备内存不足<br>    <br>*   API 不支持 | *   低版本系统/浏览器不支持<br>    <br>*   API 缺失 | 较少 |
| 安全相关错误 | *   脚本注入（XSS）<br>    <br>*   CSP 拦截<br>    <br>*   非法 iframe 嵌入<br>    <br>*   DNS 劫持 | *   自动加载或跳转非法网站 | 极少 |